
{% extends '_base.html' %}
{% load static %}
{% csrf_token %}

{% block title %}
	بروفایل من
{% endblock %}

{% block extra_head %}

{% endblock %}


{% block content %}
    {% csrf_token %}
    <div class="bg-gray-900 text-white min-h-screen flex items-center justify-center">

  <!-- Profile Card -->

        <!-- Profile Card -->
  <div id="profile-card" class="max-w-sm w-full bg-gray-800 rounded-lg shadow-lg overflow-hidden">
    <!-- Loading State -->
    <div id="loading" class="text-center py-10">
      <svg class="animate-spin h-8 w-8 mx-auto text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
      <p class="text-gray-400 mt-4">Loading profile...</p>
    </div>

    <!-- Profile Details (Hidden Initially) -->
    <div id="profile-details" class="hidden">
      <div class="bg-gradient-to-r from-red-500 to-red-700 p-6">
        <div class="flex items-center justify-center">
          <div class="w-24 h-24 rounded-full bg-gray-700 border-4 border-white overflow-hidden shadow-lg">
            <img src="https://via.placeholder.com/150" alt="User Avatar" class="object-cover w-full h-full" />
          </div>
        </div>
        <h2 class="text-center text-2xl font-semibold mt-4">User Profile</h2>
      </div>

      <div class="p-6">
        <div class="space-y-4">
          <div class="flex justify-between items-center">
            <span class="text-gray-400 font-medium">First Name</span>
            <span id="first_name" class="font-semibold text-gray-200">--</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-gray-400 font-medium">Last Name</span>
            <span id="last_name" class="font-semibold text-gray-200">--</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-gray-400 font-medium">Email</span>
            <span id="email" class="font-semibold text-gray-200">--</span>
          </div>
        </div>
      </div>
      <div class="bg-gray-700 p-4 flex justify-between">
        <button class="w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 rounded-lg shadow-lg transition duration-200"
                id="edit_profile"
        >
          Edit Profile
        </button>
      </div>
    </div>
  </div>



{#    <!-- Loading State -->#}
{#    <div id="loading" class="text-center py-10">#}
{#      <svg class="animate-spin h-8 w-8 mx-auto text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">#}
{#        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>#}
{#        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>#}
{#      </svg>#}
{#      <p class="text-gray-400 mt-4">Loading profile...</p>#}
{#    </div>#}

    <!-- Profile Details -->
    <div id="profile-edit" class="hidden">
      <form id="profile-form">
        <div class="bg-gradient-to-r from-red-500 to-red-700 p-6">
          <h2 class="text-center text-2xl font-semibold mt-4">Edit Profile</h2>
        </div>

        <div class="p-6 space-y-4">
          <!-- First Name -->
          <div>
            <label for="first_name_inp" class="block mb-2 text-sm font-medium text-gray-400">First Name</label>
            <input
              type="text"
              id="first_name_inp"
              name="first_name_inp"
              class="block w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-sm text-gray-200 placeholder-gray-500 focus:ring-2 focus:ring-red-500 focus:outline-none"
              required
            />
          </div>

          <!-- Last Name -->
          <div>
            <label for="last_name_inp" class="block mb-2 text-sm font-medium text-gray-400">Last Name</label>
            <input
              type="text"
              id="last_name_inp"
              name="last_name_inp"
              class="block w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-sm text-gray-200 placeholder-gray-500 focus:ring-2 focus:ring-red-500 focus:outline-none"
              required
            />
          </div>

{#          <!-- Email -->#}
{#          <div>#}
{#            <label for="email" class="block mb-2 text-sm font-medium text-gray-400">Email</label>#}
{#            <input#}
{#              type="email"#}
{#              id="email"#}
{#              name="email"#}
{#              class="block w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-sm text-gray-200 placeholder-gray-500 focus:ring-2 focus:ring-red-500 focus:outline-none"#}
{#              required#}
{#            />#}
{#          </div>#}
        </div>

        <!-- Submit Button -->
        <div class="bg-gray-700 p-4">
          <button
            type="submit"
            class="w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 rounded-lg shadow-lg transition duration-200"
          >
            Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>


{% endblock %}


{% block extra_body %}
    <script>
    const user_id = {{ user.id }}
    console.log(user_id)
    const user_email = "{{ user }}"
    </script>

    <script src="{% static 'js/profile.js' %}"></script>
{% endblock %}
